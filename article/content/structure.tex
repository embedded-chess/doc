% !TeX root = ../main.tex

\section{Projektstruktur}

In diesem Abschnitt wird die finale Projektstruktur erläutert, sowie ein verworfener Ansatz, welcher einer Package-artigen Struktur folgt.


\subsection{Finale Projektstruktur}

Unser Beitrag in diesem Projekt besteht einerseits in der Änderung und Ergänzung der bereits vorhandenen \texttt{dezibot}-Library~\cite{dezibotteamDezibotDezibot2025}, sowie dem Hinzufügen unseres \texttt{EmbeddedChessPieces}-Packages. Letzteres befindet sich nach Vorgaben der Dozenten unter \texttt{example/EmbeddedChessPieces}.

Die Business-Logic ist im \texttt{src}-Verzeichnis abgelegt. Darin sind die Strukturen und die Logik (siehe \autoref{sec:chess-logic}), welche dieses Projekt ermöglichen, abgelegt.

Unter \texttt{examples} befinden sich verschiedene Arduino-Sketches, u.a. zum Testen einzelner Funktionen. Außerdem sind dort die zwei wichtigen Sketches, welche für die finale Vorführung notwendig sind abgelegt. Dabei handelt es sich um den Infrarot-Emitter, welcher in \autoref{sec:movement-ir} erläutert wird, sowie um den Sketch, der auf dem Dezibot läuft, welcher schlussendlich die Schachfigur simuliert.

Für die Einrichtung muss müssen alle notwendigen Third-Party-Packages manuell installiert werden, welche für das \texttt{dezibot}-Package notwendig sind. Diese sind in der README unseres Projektes aufgelistet. Die Einrichtung der Arduino-IDE ändert sich durch dieses Projekt nicht. Zusätzlich muss ein symbolischer Link des Projekt-Repositories sowie von \texttt{example/EmbeddedChessPieces} in das Arduino-Library-Verzeichnis erstellt werden.


\subsection{Package-Struktur}

Am Anfang des Projektes änderten wir die Struktur des geforkten Dezibot-Projektes wie vereinfacht in \autoref{fig:project-structure} dargestellt.

\begin{listing}[h]
\begin{minted}{text}
    +-- libraries
    |   +-- Dezibot
    |   +-- EmbeddedChessPieces
    |   `-- VEML6040
    `-- src
        +-- colour_detection
        `-- embedded_chess_pieces
\end{minted}
\caption{Vereinfachte Package-Struktur zum Anfang des Projektes}
\label{fig:project-structure}
\end{listing}

Dabei sind alle benötigten Third-Party-Libraries im \texttt{libraries}-Verzeichnis als Submodule inkludiert. Dadurch wird deren Installation vereinfacht, da nur ein rekursiver Klon des Repositories notwendig ist. Der Code des \texttt{dezibot}- sowie des \texttt{EmbeddedChessPieces}-Packages war dabei in \texttt{libraries} direkt enthalten.

Hier ist vorstellbar gewesen, einen Fork vom Dezibot-Package zu erstellen, welche unsere Änderungen an diesem enthält. Das \texttt{EmbeddedChessPieces}-Package wäre wiederum ein separates Repository gewesen. Dies alles zusammen wäre in einem separaten Repository zu einem Ganzen gekommen, in dem die notwendigen Arduino-Sketches für die Ausführung unseres Projektes enthalten sind. Diese wären in \texttt{src} abgelegt worden. Letzteres Repository wäre in der Arduino IDE als Sketchbook-Location eingetragen worden.

Nachdem wir die Struktur aufbauten und diese in einer Konsultation zu\-fäl\-liger\-weise zeigten, wurde uns vermittelt, dass die Struktur nicht abgeändert werden dürfe und wir dies rückgängig machen sollen. Daher mussten wir mehrere Stunden an Planung und Refactoring zurückbauen und erneut mehrere Stunden investieren, um die geforderte Struktur zu implementieren und erneut zu testen. Dies wäre durch eine frühzeitige Kommunikation der Anforderungen und Rahmenbedingungen vermeidbar gewesen.
